---
import ProviderLayout from "../layouts/ProviderLayout.astro";
import OperationsTable from "../components/OperationsTable.astro";
import OperationDetails from "../components/OperationDetails.astro";
import CodeBlock from "../components/CodeBlock.astro";
import { getOperationsForProvider } from "../data/operations.js";

const operations = getOperationsForProvider("Npm");

const exampleCode = `// Create a directory reference
var frontend = Directory("./frontend");

// Install dependencies (prefer ci for reproducible builds)
Npm.Ci(frontend);

// Run linting
Npm.Run(frontend, "lint");

// Run tests
Npm.Test(frontend);

// Build for production
Npm.Build(frontend);`;
---

<ProviderLayout title="Npm" provider="Npm" description="Run npm commands for JavaScript/TypeScript projects.">
  <section id="operations" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Operations</h2>
    <OperationsTable operations={operations} />
  </section>

  <section id="details" class="mb-8">
    <h2 class="mb-6 text-xl font-bold text-zinc-900 dark:text-white">Operation Details</h2>
    <OperationDetails operations={operations} />
  </section>

  <section id="example" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Example</h2>
    <p class="mb-4 text-zinc-500 dark:text-zinc-400">Build a frontend application.</p>
    <CodeBlock code={exampleCode} lang="csharp" filename="build.ando" />
  </section>
</ProviderLayout>
