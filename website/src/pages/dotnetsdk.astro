---
import ProviderLayout from "../layouts/ProviderLayout.astro";
import OperationsTable from "../components/OperationsTable.astro";
import OperationDetails from "../components/OperationDetails.astro";
import CodeBlock from "../components/CodeBlock.astro";
import { getOperationsForProvider } from "../data/operations.js";

const operations = getOperationsForProvider("DotnetSdk");

const exampleCode = `// Install .NET SDK
DotnetSdk.Install();

// Build the application
var app = Project.From("./src/MyApp/MyApp.csproj");
Dotnet.Restore(app);
Dotnet.Build(app);`;

const versionsCode = `// Install .NET 8.0 (LTS)
DotnetSdk.Install("8.0");

// Install .NET 9.0 (default)
DotnetSdk.Install("9.0");

// Or use default (currently 9.0)
DotnetSdk.Install();`;
---

<ProviderLayout title="DotnetSdk" provider="DotnetSdk" description="Install the .NET SDK in Ubuntu-based containers.">
  <section id="overview" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Overview</h2>
    <p class="mb-3 text-zinc-600 dark:text-zinc-400">
      The DotnetSdk operations allow you to install the .NET SDK globally in Ubuntu-based containers. This is useful
      when using the default <code
        class="rounded border border-zinc-200 bg-zinc-100 px-1.5 text-sm dark:border-zinc-700 dark:bg-zinc-800"
        >ubuntu:22.04</code
      > image, which doesn't include .NET pre-installed.
    </p>
    <p class="mb-3 text-zinc-600 dark:text-zinc-400">
      For warm containers, the installation is skipped if the .NET SDK is already installed at the correct version,
      making subsequent builds fast.
    </p>
    <p class="text-zinc-600 dark:text-zinc-400">
      <strong class="text-zinc-700 dark:text-zinc-300">Note:</strong> This is different from the <a
        href="/dotnet"
        class="text-cyan-600 hover:underline dark:text-cyan-400">Dotnet</a
      > operations, which are for running .NET CLI commands like <code
        class="rounded border border-zinc-200 bg-zinc-100 px-1.5 text-sm dark:border-zinc-700 dark:bg-zinc-800"
        >dotnet build</code
      > and <code
        class="rounded border border-zinc-200 bg-zinc-100 px-1.5 text-sm dark:border-zinc-700 dark:bg-zinc-800"
        >dotnet publish</code
      >. Use <code
        class="rounded border border-zinc-200 bg-zinc-100 px-1.5 text-sm dark:border-zinc-700 dark:bg-zinc-800"
        >DotnetSdk.Install()</code
      > first if your container doesn't have .NET installed.
    </p>
  </section>

  <section id="operations" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Operations</h2>
    <OperationsTable operations={operations} />
  </section>

  <section id="details" class="mb-8">
    <h2 class="mb-6 text-xl font-bold text-zinc-900 dark:text-white">Operation Details</h2>
    <OperationDetails operations={operations} />
  </section>

  <section id="example" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Example</h2>
    <p class="mb-4 text-zinc-500 dark:text-zinc-400">Build a .NET application on Ubuntu.</p>
    <CodeBlock code={exampleCode} lang="csharp" filename="build.ando" />
  </section>

  <section id="versions" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Version Support</h2>
    <p class="mb-4 text-zinc-600 dark:text-zinc-400">You can specify the .NET SDK channel version to install:</p>
    <CodeBlock code={versionsCode} lang="csharp" filename="build.ando" />
  </section>
</ProviderLayout>
