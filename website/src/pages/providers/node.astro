---
import ProviderLayout from "../../layouts/ProviderLayout.astro";
import OperationsTable from "../../components/OperationsTable.astro";
import OperationDetails from "../../components/OperationDetails.astro";
import { getOperationsForProvider } from "../../data/operations.js";

const operations = getOperationsForProvider("Node");
---

<ProviderLayout title="Node" provider="Node" description="Install Node.js in Ubuntu-based containers.">
  <section id="overview" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Overview</h2>
    <p class="mb-3 text-zinc-600 dark:text-zinc-400">
      The Node operations allow you to install Node.js globally in Ubuntu-based containers. This is useful when using
      the default <code
        class="rounded border border-zinc-200 bg-zinc-100 px-1.5 text-sm dark:border-zinc-700 dark:bg-zinc-800"
        >ubuntu:22.04</code
      > image, which doesn't include Node.js pre-installed.
    </p>
    <p class="text-zinc-600 dark:text-zinc-400">
      For warm containers, the installation is skipped if Node.js is already installed at the correct major version,
      making subsequent builds fast.
    </p>
  </section>

  <section id="operations" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Operations</h2>
    <OperationsTable operations={operations} />
  </section>

  <section id="details" class="mb-8">
    <h2 class="mb-6 text-xl font-bold text-zinc-900 dark:text-white">Operation Details</h2>
    <OperationDetails operations={operations} />
  </section>

  <section id="example" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Example</h2>
    <p class="mb-4 text-zinc-500 dark:text-zinc-400">Build a static website with Node.js.</p>
    <div
      class="relative overflow-x-auto rounded-xl border border-zinc-800 bg-zinc-900 p-4 font-mono text-sm leading-relaxed"
    >
      <span class="absolute top-3 right-4 text-xs tracking-wider text-zinc-400 uppercase">build.csando</span>
      <pre
        class="m-0 whitespace-pre"><code class="text-zinc-200"><span class="text-slate-400 italic">// Install Node.js (includes npm)</span>
<span class="text-sky-200">Node</span>.<span class="text-violet-300">Install</span>();

<span class="text-slate-400 italic">// Install dependencies</span>
<span class="text-sky-200">Npm</span>.<span class="text-violet-300">Install</span>();

<span class="text-slate-400 italic">// Build the site</span>
<span class="text-sky-200">Npm</span>.<span class="text-violet-300">Build</span>();</code></pre>
    </div>
  </section>

  <section id="versions" class="mb-8">
    <h2 class="mb-3 text-xl font-bold text-zinc-900 dark:text-white">Version Support</h2>
    <p class="mb-4 text-zinc-600 dark:text-zinc-400">You can specify the Node.js major version to install:</p>
    <div
      class="relative overflow-x-auto rounded-xl border border-zinc-800 bg-zinc-900 p-4 font-mono text-sm leading-relaxed"
    >
      <span class="absolute top-3 right-4 text-xs tracking-wider text-zinc-400 uppercase">build.csando</span>
      <pre
        class="m-0 whitespace-pre"><code class="text-zinc-200"><span class="text-slate-400 italic">// Install Node.js 20 (previous LTS)</span>
<span class="text-sky-200">Node</span>.<span class="text-violet-300">Install</span>(<span class="text-green-300">"20"</span>);

<span class="text-slate-400 italic">// Install Node.js 22 (current LTS, default)</span>
<span class="text-sky-200">Node</span>.<span class="text-violet-300">Install</span>(<span class="text-green-300">"22"</span>);

<span class="text-slate-400 italic">// Or use default (currently v22)</span>
<span class="text-sky-200">Node</span>.<span class="text-violet-300">Install</span>();</code></pre>
    </div>
  </section>
</ProviderLayout>
